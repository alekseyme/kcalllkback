{"version":3,"sources":["redux/reducers/projects.js","redux/reducers/index.js","redux/store.js","redux/actions/projects.js","components/TableLoader.jsx","components/ExportButton.jsx","components/ReloadButton.jsx","components/TableControls.jsx","components/AudioPlayer.jsx","components/ProjectTable.jsx","pages/Main/Main.jsx","components/Logout.jsx","components/UserBlock.jsx","assets/img/logo.svg","assets/img/brand_logo.svg","pages/Home.jsx","components/Loader.jsx","pages/Project/EditProject.jsx","pages/Project/CreateProject.jsx","pages/Project/Project.jsx","pages/Manager/Manager.jsx","pages/Manager/CreateManager.jsx","pages/Manager/EditManager.jsx","pages/User/User.jsx","pages/User/CreateUser.jsx","pages/User/EditUser.jsx","pages/Dashboard/Dashboard.jsx","pages/Auth/Login.jsx","components/AuthLoader.jsx","App.jsx","index.js"],"names":["initialState","activeProject","projectLoading","projectsList","tableLoading","tableColumns","projectStatuses","tableData","tablePaginationConfig","searchParams","userInfo","pizzas","state","action","type","payload","rootReducer","combineReducers","projects","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","setUserInfo","setProjectLoading","setTableLoading","setSearchParams","fetchActiveProject","parameters","dispatch","params","project","axios","post","then","data","tableConfig","total","paginate","current_page","per_page","statuses","map","status","value","setTableData","setProjectStatuses","catch","message","error","finally","TableLoader","style","display","justifyContent","Button","width","marginTop","title","paragraph","rows","ExportButton","React","useState","isLoading","setIsLoading","loading","onClick","fields","base_row","split","csvData","headerArr","base_header","wb","XLSX","book_new","ws","json_to_sheet","sheet_add_aoa","sheet_add_json","origin","skipHeader","book_append_sheet","label","Date","now","exportToExcel","icon","DownloadOutlined","ReloadButton","useDispatch","marginRight","TableControls","useSelector","className","AudioPlayer","src","controls","url","ProjectTable","audioSavingId","setAudioSavingId","audioSource","setAudioSource","rowAudio","setRowAudio","columns","dataIndex","render","_","record","size","request_id","content","id","trigger","Link","method","responseType","URL","createObjectURL","newArr","playAudio","PlayCircleOutlined","fontSize","color","correctTime","time","replace","fileDownload","number","downloadAudio","LoadingOutlined","rowKey","dataSource","spinning","indicator","spin","pagination","position","current","pageSize","onChange","page","from","to","phone","hideOnSinglePage","Main","Form","useForm","searchForm","isOneProject","useEffect","tablename","name","onSelectProject","resetSearch","a","resetFields","optionObj","rowArr","tableCols","col","i","setTableColumns","form","onFinish","fieldsValue","length","slice","values","format","warning","autoComplete","initialValues","moment","layout","Item","placeholder","prefix","PhoneOutlined","rotate","allowClear","options","htmlType","showSearch","marginLeft","optionFilterProp","filterOption","input","option","toLowerCase","indexOf","textAlign","marginBottom","Logout","onLogout","history","useHistory","localStorage","clear","push","console","log","ExportOutlined","UserBlock","userName","getItem","menu","fontWeight","overlay","Header","Layout","Content","Sider","Home","onSuccessLogout","location","useLocation","collapsed","setCollapsed","isAdmin","isadmin","collapsible","onCollapse","prev","brandLogo","logo","alt","theme","defaultSelectedKeys","pathname","mode","DesktopOutlined","Divider","backgroundColor","ProjectOutlined","UnorderedListOutlined","UserOutlined","ContactsOutlined","padding","exact","path","Loader","antIcon","EditProject","userList","setUsertList","projectUser","setProjectUser","isLoadingPage","setIsLoadingPage","initValues","setInitvalues","useParams","get","newData","user","users","err","newProject","put","success","rsp","rules","required","tooltip","defaultValue","CreateProject","setUserList","checkedValues","Project","projectList","setProjectList","key","e","projectId","thisButton","currentTarget","innerText","delete","newProjectList","filter","onDeleteProject","Manager","managerList","setManagerList","managerId","newManagerList","manager","onDeleteManager","CreateManager","EditManager","setInitValues","newManager","User","userId","newUserList","onDeleteUser","newPwd","prompt","patch","userid","password","onResetPassword","CreateUser","projectManager","setProjectManager","newUser","Password","valuePropName","EditUser","managers","Dashboard","minutes","Math","floor","random","description","closable","onClose","gutter","span","email","valueStyle","suffix","Login","onLogin","setItem","response","LockOutlined","AuthLoader","alignItems","height","App","isLoggedin","setIsLoggedin","checkAuth","setCheckAuth","defaults","baseURL","withCredentials","interceptors","use","reload","Promise","reject","ReactDOM","StrictMode","locale","ruRU","document","getElementById"],"mappings":"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","file":"static/js/main.8bab83bf.chunk.js","sourcesContent":["const initialState = {\r\n\tactiveProject: null,\r\n\tprojectLoading: false,\r\n\tprojectsList: null,\r\n\ttableLoading: false,\r\n\ttableColumns: [],\r\n\tprojectStatuses: [],\r\n\ttableData: null,\r\n\ttablePaginationConfig: null,\r\n\tsearchParams: null,\r\n\tuserInfo: null,\r\n};\r\n\r\nconst pizzas = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'SET_USER_INFO':\r\n\t\t\treturn { ...state, userInfo: action.payload };\r\n\r\n\t\tcase 'SET_ACTIVE_PROJECT':\r\n\t\t\treturn { ...state, activeProject: action.payload };\r\n\r\n\t\tcase 'SET_PROJECT_LOADING':\r\n\t\t\treturn { ...state, projectLoading: action.payload };\r\n\r\n\t\tcase 'SET_PROJECTS_LIST':\r\n\t\t\treturn { ...state, projectsList: action.payload };\r\n\r\n\t\tcase 'SET_PROJECT_STATUSES':\r\n\t\t\treturn { ...state, projectStatuses: action.payload };\r\n\r\n\t\tcase 'SET_TABLE_LOADING':\r\n\t\t\treturn { ...state, tableLoading: action.payload };\r\n\r\n\t\tcase 'SET_TABLE_COLUMNS':\r\n\t\t\treturn { ...state, tableColumns: action.payload };\r\n\r\n\t\tcase 'SET_TABLE_DATA':\r\n\t\t\treturn { ...state, tableData: action.payload };\r\n\r\n\t\tcase 'RESET_TABLE_DATA':\r\n\t\t\treturn { ...state, tableData: null };\r\n\r\n\t\tcase 'RESET_STORAGE':\r\n\t\t\treturn { ...initialState };\r\n\r\n\t\tcase 'SET_TABLE_PAGINATIONCONFIG':\r\n\t\t\treturn { ...state, tablePaginationConfig: action.payload };\r\n\r\n\t\tcase 'SET_SEARCH_PARAMS':\r\n\t\t\treturn { ...state, searchParams: action.payload };\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default pizzas;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport projects from './projects';\r\n\r\nconst rootReducer = combineReducers({\r\n\tprojects,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import axios from 'axios';\r\nimport { message } from 'antd';\r\n\r\nexport const setUserInfo = (payload) => ({\r\n\ttype: 'SET_USER_INFO',\r\n\tpayload,\r\n});\r\n\r\nexport const setActiveProject = (payload) => ({\r\n\ttype: 'SET_ACTIVE_PROJECT',\r\n\tpayload,\r\n});\r\n\r\nexport const setProjectLoading = (payload) => ({\r\n\ttype: 'SET_PROJECT_LOADING',\r\n\tpayload,\r\n});\r\n\r\nexport const setProjectsList = (payload) => ({\r\n\ttype: 'SET_PROJECTS_LIST',\r\n\tpayload,\r\n});\r\n\r\nexport const setProjectStatuses = (payload) => ({\r\n\ttype: 'SET_PROJECT_STATUSES',\r\n\tpayload,\r\n});\r\n\r\nexport const setTableLoading = (payload) => ({\r\n\ttype: 'SET_TABLE_LOADING',\r\n\tpayload,\r\n});\r\n\r\nexport const setTableColumns = (payload) => ({\r\n\ttype: 'SET_TABLE_COLUMNS',\r\n\tpayload,\r\n});\r\n\r\nexport const setTableData = (payload) => ({\r\n\ttype: 'SET_TABLE_DATA',\r\n\tpayload,\r\n});\r\n\r\nexport const resetTableData = () => ({\r\n\ttype: 'RESET_TABLE_DATA',\r\n});\r\n\r\nexport const setTablePaginationConfig = (payload) => ({\r\n\ttype: 'SET_TABLE_PAGINATIONCONFIG',\r\n\tpayload,\r\n});\r\n\r\nexport const setSearchParams = (payload) => ({\r\n\ttype: 'SET_SEARCH_PARAMS',\r\n\tpayload,\r\n});\r\n\r\nexport const resetStorage = () => ({\r\n\ttype: 'RESET_STORAGE',\r\n});\r\n\r\nexport const fetchActiveProject = (parameters, activeProject) => (dispatch) => {\r\n\tconst params = parameters || { project: activeProject };\r\n\r\n\taxios\r\n\t\t.post('/project/search', params)\r\n\t\t.then(({ data }) => {\r\n\t\t\tconst tableConfig = {\r\n\t\t\t\ttotal: data.paginate.total,\r\n\t\t\t\tcurrent_page: data.paginate.current_page,\r\n\t\t\t\tper_page: data.paginate.per_page,\r\n\t\t\t};\r\n\r\n\t\t\tconst statuses = data.statuses.map((status) => {\r\n\t\t\t\treturn { value: status };\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(setTablePaginationConfig(tableConfig));\r\n\t\t\tdispatch(setTableData(data.paginate.data));\r\n\t\t\tdispatch(setProjectStatuses(statuses));\r\n\t\t})\r\n\t\t.catch(() => message.error('Ошибка запроса'))\r\n\t\t.finally(() => {\r\n\t\t\tdispatch(setTableLoading(false));\r\n\t\t\tdispatch(setProjectLoading(false));\r\n\t\t});\r\n};\r\n","import React from 'react';\r\nimport { Skeleton } from 'antd';\r\n\r\nconst TableLoader = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n\t\t\t\t<Skeleton.Button style={{ width: 138 }} />\r\n\t\t\t\t<Skeleton.Button style={{ width: 220 }} />\r\n\t\t\t</div>\r\n\t\t\t<div style={{ marginTop: 22 }}>\r\n\t\t\t\t<Skeleton title={false} paragraph={{ rows: 6 }} />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TableLoader;\r\n","import React from 'react';\r\nimport { Button } from 'antd';\r\nimport { DownloadOutlined } from '@ant-design/icons';\r\nimport * as XLSX from 'xlsx';\r\nimport axios from 'axios';\r\n\r\nconst ExportButton = ({ activeProject, searchParams }) => {\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\r\n\tconst fileExtension = '.xlsx';\r\n\r\n\tconst exportToExcel = (csvData) => {\r\n\t\tconst headerArr = activeProject.base_header.split(',');\r\n\r\n\t\tconst wb = XLSX.utils.book_new();\r\n\t\tconst ws = XLSX.utils.json_to_sheet([]);\r\n\t\tXLSX.utils.sheet_add_aoa(ws, [headerArr]);\r\n\t\tXLSX.utils.sheet_add_json(ws, csvData, { origin: 'A2', skipHeader: true });\r\n\t\tXLSX.utils.book_append_sheet(wb, ws, activeProject.label);\r\n\t\tXLSX.writeFile(wb, activeProject.label + `_${Date.now()}` + fileExtension);\r\n\t};\r\n\r\n\tconst fetchData = () => {\r\n\t\tsetIsLoading(true);\r\n\t\tconst params = {\r\n\t\t\t...searchParams,\r\n\t\t\tproject: activeProject.value,\r\n\t\t\tfields: activeProject.base_row.split(','),\r\n\t\t};\r\n\t\taxios\r\n\t\t\t.post('/project/export', params)\r\n\t\t\t.then(({ data }) => exportToExcel(data))\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Button loading={isLoading} onClick={fetchData} icon={<DownloadOutlined />}>\r\n\t\t\tЭкспорт\r\n\t\t</Button>\r\n\t);\r\n};\r\n\r\nexport default ExportButton;\r\n","import React from 'react';\r\nimport { Button } from 'antd';\r\n\r\nimport { fetchActiveProject, setTableLoading } from '../redux/actions/projects';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst ReloadButton = ({ activeProject }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst reloadActiveProject = () => {\r\n\t\tdispatch(setTableLoading(true));\r\n\t\tdispatch(fetchActiveProject(null, activeProject.value));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Button style={{ marginRight: 8 }} onClick={reloadActiveProject}>\r\n\t\t\tОбновить\r\n\t\t</Button>\r\n\t);\r\n};\r\n\r\nexport default ReloadButton;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport ExportButton from './ExportButton';\r\nimport ReloadButton from './ReloadButton';\r\n\r\nconst TableControls = () => {\r\n\tconst { activeProject, tablePaginationConfig, searchParams } = useSelector(\r\n\t\t({ projects }) => projects,\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"project-actions\">\r\n\t\t\t<div>Всего записей: {tablePaginationConfig.total}</div>\r\n\t\t\t<div>\r\n\t\t\t\t<ReloadButton activeProject={activeProject} />\r\n\t\t\t\t<ExportButton activeProject={activeProject} searchParams={searchParams} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TableControls;\r\n","import React from 'react';\r\n\r\nconst AudioPlayer = ({ src }) => {\r\n\treturn <audio controls src={src?.url}></audio>;\r\n};\r\n\r\nexport default AudioPlayer;\r\n","import React from 'react';\r\nimport { Table, Typography, Divider, Popover, Space } from 'antd';\r\nimport { DownloadOutlined, LoadingOutlined, PlayCircleOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport fileDownload from 'js-file-download';\r\n\r\nimport { fetchActiveProject, setTableLoading } from '../redux/actions/projects';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport AudioPlayer from './AudioPlayer';\r\n\r\nconst ProjectTable = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [audioSavingId, setAudioSavingId] = React.useState(null);\r\n\tconst [audioSource, setAudioSource] = React.useState(null);\r\n\tconst [rowAudio, setRowAudio] = React.useState({});\r\n\r\n\tconst {\r\n\t\tactiveProject,\r\n\t\ttableLoading,\r\n\t\ttableColumns,\r\n\t\ttablePaginationConfig,\r\n\t\ttableData,\r\n\t\tsearchParams,\r\n\t} = useSelector(({ projects }) => projects);\r\n\r\n\tconst onChangeTablePage = (page, pageSize) => {\r\n\t\tdispatch(setTableLoading(true));\r\n\t\tconst parameters = {\r\n\t\t\tproject: activeProject.value,\r\n\t\t\tpage: page,\r\n\t\t\tper_page: pageSize,\r\n\t\t\tfrom: searchParams ? searchParams.from : null,\r\n\t\t\tto: searchParams ? searchParams.to : null,\r\n\t\t\tphone: searchParams ? searchParams.phone : null,\r\n\t\t\tstatus: searchParams ? searchParams.status : null,\r\n\t\t};\r\n\t\tdispatch(fetchActiveProject(parameters));\r\n\t};\r\n\r\n\tconst downloadAudio = (record) => {\r\n\t\tsetAudioSavingId(record.id);\r\n\t\tconst correctTime = record.time.replace(/[^\\d]/g, '_');\r\n\t\taxios({\r\n\t\t\turl: `/da/${record.request_id}`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tresponseType: 'blob',\r\n\t\t})\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tfileDownload(data, correctTime + '_' + record.number + '.mp3');\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetAudioSavingId(null);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst playAudio = (record) => {\r\n\t\tif (rowAudio[record.id]) {\r\n\t\t\tif (rowAudio[record.id] === audioSource.url) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetAudioSource({\r\n\t\t\t\tid: record.id,\r\n\t\t\t\turl: rowAudio[record.id],\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetAudioSource(null);\r\n\t\taxios({\r\n\t\t\turl: `/da/${record.request_id}`,\r\n\t\t\tmethod: 'POST',\r\n\t\t\tresponseType: 'blob',\r\n\t\t}).then(({ data }) => {\r\n\t\t\tconst url = URL.createObjectURL(data);\r\n\t\t\tsetAudioSource({\r\n\t\t\t\tid: record.id,\r\n\t\t\t\turl: url,\r\n\t\t\t});\r\n\r\n\t\t\tconst newArr = {\r\n\t\t\t\t...rowAudio,\r\n\t\t\t\t[record.id]: url,\r\n\t\t\t};\r\n\t\t\tsetRowAudio(newArr);\r\n\t\t});\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t...tableColumns,\r\n\t\t{\r\n\t\t\ttitle: '#',\r\n\t\t\tdataIndex: 'actions',\r\n\t\t\twidth: 35, //def 122, mid 35\r\n\t\t\trender: (_, record) => (\r\n\t\t\t\t<Space split={<Divider type=\"vertical\" />} size={1}>\r\n\t\t\t\t\t{record.request_id ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Popover\r\n\t\t\t\t\t\t\t\tcontent={\r\n\t\t\t\t\t\t\t\t\taudioSource && audioSource.url === rowAudio[audioSource.id] ? (\r\n\t\t\t\t\t\t\t\t\t\t<AudioPlayer src={audioSource} />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'загрузка'\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttrigger=\"click\">\r\n\t\t\t\t\t\t\t\t<Typography.Link onClick={() => playAudio(record)}>\r\n\t\t\t\t\t\t\t\t\t<PlayCircleOutlined\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tfontSize: 18,\r\n\t\t\t\t\t\t\t\t\t\t\tcolor:\r\n\t\t\t\t\t\t\t\t\t\t\t\trecord.id === audioSource?.id ? '#52c41a' : false,\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Typography.Link>\r\n\t\t\t\t\t\t\t</Popover>\r\n\t\t\t\t\t\t\t<Typography.Link onClick={() => downloadAudio(record)}>\r\n\t\t\t\t\t\t\t\t{record.id === audioSavingId ? (\r\n\t\t\t\t\t\t\t\t\t<LoadingOutlined style={{ fontSize: 18 }} />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<DownloadOutlined style={{ fontSize: 18 }} />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Typography.Link>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\tsize=\"middle\"\r\n\t\t\tclassName=\"project-table\"\r\n\t\t\trowKey={(record) => record.id}\r\n\t\t\tcolumns={columns}\r\n\t\t\tdataSource={tableData}\r\n\t\t\tloading={{\r\n\t\t\t\tspinning: tableLoading,\r\n\t\t\t\tindicator: <LoadingOutlined style={{ fontSize: 28 }} spin />,\r\n\t\t\t}}\r\n\t\t\tpagination={{\r\n\t\t\t\tposition: ['bottomCenter'],\r\n\t\t\t\tcurrent: tablePaginationConfig.current_page,\r\n\t\t\t\ttotal: tablePaginationConfig.total,\r\n\t\t\t\tpageSize: tablePaginationConfig.per_page,\r\n\t\t\t\tonChange: onChangeTablePage,\r\n\t\t\t\thideOnSinglePage: true,\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default ProjectTable;\r\n","import React from 'react';\r\nimport { DatePicker, Form, Input, Button, Select, BackTop, message } from 'antd';\r\nimport { PhoneOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport 'moment/locale/ru';\r\n\r\n//Redux\r\nimport {\r\n\tsetActiveProject,\r\n\tsetTableColumns,\r\n\tresetTableData,\r\n\tsetSearchParams,\r\n\tfetchActiveProject,\r\n\tsetProjectLoading,\r\n\tsetProjectsList,\r\n\tsetTableLoading,\r\n} from '../../redux/actions/projects';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport TableLoader from '../../components/TableLoader';\r\nimport TableControls from '../../components/TableControls';\r\nimport ProjectTable from '../../components/ProjectTable';\r\n\r\nconst Main = () => {\r\n\t//Redux\r\n\tconst dispatch = useDispatch();\r\n\tconst {\r\n\t\tactiveProject,\r\n\t\tprojectLoading,\r\n\t\tprojectsList,\r\n\t\ttableData,\r\n\t\tsearchParams,\r\n\t\tprojectStatuses,\r\n\t\tuserInfo,\r\n\t} = useSelector(({ projects }) => projects);\r\n\r\n\tconst [searchForm] = Form.useForm();\r\n\r\n\tconst isOneProject = userInfo.projects === 1;\r\n\r\n\t//Подгрузка списка проектов, доступных для пользователя, в селект\r\n\tReact.useEffect(() => {\r\n\t\tif (!projectsList) {\r\n\t\t\taxios.post('/userprojects').then(({ data }) => {\r\n\t\t\t\tconst projects = data.map((project) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid: project.id,\r\n\t\t\t\t\t\tvalue: project.tablename,\r\n\t\t\t\t\t\tlabel: project.name,\r\n\t\t\t\t\t\tbase_header: project.base_header,\r\n\t\t\t\t\t\tbase_row: project.base_row,\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t\tdispatch(setProjectsList(projects));\r\n\t\t\t\tif (isOneProject) {\r\n\t\t\t\t\tonSelectProject(null, projects[0]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} // eslint-disable-next-line\r\n\t}, []);\r\n\r\n\t//Меняем активный проект, при смене в селекте\r\n\tReact.useEffect(() => {\r\n\t\tif (activeProject && !tableData) {\r\n\t\t\tdispatch(fetchActiveProject(null, activeProject.value));\r\n\t\t} // eslint-disable-next-line\r\n\t}, [activeProject]);\r\n\r\n\tconst fetchSearchData = (fieldsValue) => {\r\n\t\tif (!activeProject) {\r\n\t\t\tmessage.warning('Сначала выберите проект', 2);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!fieldsValue.from && !fieldsValue.to && !fieldsValue.phone && !fieldsValue.status) {\r\n\t\t\tmessage.warning('Заполните хотя бы один параметр поиска', 2);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst phone =\r\n\t\t\tfieldsValue.phone?.length > 10 ? fieldsValue.phone.slice(1) : fieldsValue.phone;\r\n\r\n\t\tconst values = {\r\n\t\t\t...fieldsValue,\r\n\t\t\tphone: phone,\r\n\t\t\tfrom: fieldsValue['from'] ? fieldsValue['from'].format('YYYY-MM-DD') : null,\r\n\t\t\tto: fieldsValue['to'] ? fieldsValue['to'].format('YYYY-MM-DD') : null,\r\n\t\t};\r\n\r\n\t\tdispatch(setTableLoading(true));\r\n\t\tdispatch(\r\n\t\t\tsetSearchParams({\r\n\t\t\t\t...searchParams,\r\n\t\t\t\tfrom: values.from,\r\n\t\t\t\tto: values.to,\r\n\t\t\t\tphone: values.phone,\r\n\t\t\t\tstatus: values.status,\r\n\t\t\t}),\r\n\t\t);\r\n\t\tconst parameters = {\r\n\t\t\tproject: activeProject.value,\r\n\t\t\tfrom: values.from,\r\n\t\t\tto: values.to,\r\n\t\t\tphone: values.phone,\r\n\t\t\tstatus: values.status,\r\n\t\t};\r\n\t\tdispatch(fetchActiveProject(parameters));\r\n\t};\r\n\r\n\tconst resetSearch = async () => {\r\n\t\tawait dispatch(setSearchParams(null));\r\n\t\tsearchForm.resetFields();\r\n\t};\r\n\r\n\tconst onSelectProject = (_, optionObj) => {\r\n\t\tdispatch(setProjectLoading(true));\r\n\t\tresetSearch();\r\n\r\n\t\tconst headerArr = optionObj.base_header.split(',');\r\n\t\tconst rowArr = optionObj.base_row.split(',');\r\n\r\n\t\tconst tableCols = headerArr.map((col, i) => ({\r\n\t\t\ttitle: col,\r\n\t\t\tdataIndex: rowArr[i],\r\n\t\t\twidth: '2px',\r\n\t\t}));\r\n\r\n\t\tdispatch(resetTableData());\r\n\t\tdispatch(setActiveProject(optionObj));\r\n\t\tdispatch(setTableColumns(tableCols));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\">\r\n\t\t\t\t<Form\r\n\t\t\t\t\tform={searchForm}\r\n\t\t\t\t\tonFinish={fetchSearchData}\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\tfrom:\r\n\t\t\t\t\t\t\tsearchParams && searchParams.from\r\n\t\t\t\t\t\t\t\t? moment(searchParams.from, 'YYYY-MM-DD')\r\n\t\t\t\t\t\t\t\t: null,\r\n\t\t\t\t\t\tto:\r\n\t\t\t\t\t\t\tsearchParams && searchParams.to\r\n\t\t\t\t\t\t\t\t? moment(searchParams.to, 'YYYY-MM-DD')\r\n\t\t\t\t\t\t\t\t: null,\r\n\t\t\t\t\t\tphone: searchParams ? searchParams.phone : null,\r\n\t\t\t\t\t\tstatus: searchParams ? searchParams.status : null,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tlayout=\"inline\">\r\n\t\t\t\t\t<Form.Item name=\"from\">\r\n\t\t\t\t\t\t<DatePicker placeholder=\"С\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item name=\"to\">\r\n\t\t\t\t\t\t<DatePicker placeholder=\"По\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item name=\"phone\">\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tplaceholder=\"Телефон\"\r\n\t\t\t\t\t\t\tprefix={\r\n\t\t\t\t\t\t\t\t<PhoneOutlined\r\n\t\t\t\t\t\t\t\t\tstyle={{ color: 'rgba(0, 0, 0, 0.25)' }}\r\n\t\t\t\t\t\t\t\t\trotate={90}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tallowClear\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item name=\"status\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tplaceholder=\"Статус\"\r\n\t\t\t\t\t\t\tstyle={{ width: 202 }}\r\n\t\t\t\t\t\t\toptions={projectStatuses || null}\r\n\t\t\t\t\t\t\tallowClear\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\tПоиск\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{searchParams && (\r\n\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tdispatch(setTableLoading(true));\r\n\t\t\t\t\t\t\t\t\tresetSearch();\r\n\t\t\t\t\t\t\t\t\tdispatch(fetchActiveProject(null, activeProject.value));\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tСбросить\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form>\r\n\t\t\t\t{!isOneProject && (\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tvalue={activeProject ? activeProject.label : null}\r\n\t\t\t\t\t\tshowSearch\r\n\t\t\t\t\t\tstyle={{ width: 202, marginLeft: 8 }}\r\n\t\t\t\t\t\tplaceholder=\"Выбрать проект\"\r\n\t\t\t\t\t\toptionFilterProp=\"label\"\r\n\t\t\t\t\t\tonChange={onSelectProject}\r\n\t\t\t\t\t\toptions={projectsList}\r\n\t\t\t\t\t\tfilterOption={(input, option) =>\r\n\t\t\t\t\t\t\toption.label.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n\t\t\t\t\t\t}></Select>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\">\r\n\t\t\t\t{projectLoading ? (\r\n\t\t\t\t\t<TableLoader />\r\n\t\t\t\t) : tableData ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<TableControls />\r\n\t\t\t\t\t\t<ProjectTable />\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : !isOneProject ? (\r\n\t\t\t\t\t<h1 style={{ textAlign: 'center', marginBottom: 0 }}>Выберите проект</h1>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<TableLoader />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<BackTop />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport { Button } from 'antd';\r\nimport { ExportOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\n//Redux\r\nimport { useDispatch } from 'react-redux';\r\nimport { resetStorage } from '../redux/actions/projects';\r\n\r\nconst Logout = ({ onLogout }) => {\r\n\tconst dispatch = useDispatch();\r\n\tlet history = useHistory();\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\r\n\tconst handleLogout = () => {\r\n\t\tsetIsLoading(true);\r\n\t\taxios\r\n\t\t\t.post('/logout')\r\n\t\t\t.then(() => {\r\n\t\t\t\tlocalStorage.clear();\r\n\t\t\t\tonLogout();\r\n\t\t\t\tdispatch(resetStorage());\r\n\t\t\t\thistory.push('/');\r\n\t\t\t})\r\n\t\t\t.catch(() => console.log('logout catch error'))\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\ttype=\"text\"\r\n\t\t\tonClick={handleLogout}\r\n\t\t\tclassName=\"btn-logout\"\r\n\t\t\ticon={<ExportOutlined />}\r\n\t\t\tloading={isLoading}>\r\n\t\t\tВыйти\r\n\t\t</Button>\r\n\t);\r\n};\r\n\r\nexport default Logout;\r\n","import React from 'react';\r\nimport { Avatar, Menu, Dropdown } from 'antd';\r\nimport Logout from './Logout';\r\n\r\nconst UserBlock = ({ onLogout }) => {\r\n\tconst userName = localStorage.getItem('auth_name');\r\n\r\n\tconst menu = (\r\n\t\t<Menu>\r\n\t\t\t{/* <Menu.Item key=\"settings\">Настройки</Menu.Item> */}\r\n\t\t\t{/* <Menu.Divider /> */}\r\n\t\t\t<Logout onLogout={onLogout} />\r\n\t\t</Menu>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{userName ? <span style={{ marginRight: 8, fontWeight: 600 }}>{userName}</span> : null}\r\n\r\n\t\t\t<Dropdown overlay={menu} trigger={['click']}>\r\n\t\t\t\t<Avatar className=\"user-avatar\">{userName ? userName[0] : '-'}</Avatar>\r\n\t\t\t</Dropdown>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UserBlock;\r\n","export default __webpack_public_path__ + \"static/media/logo.c7696728.svg\";","export default __webpack_public_path__ + \"static/media/brand_logo.e9581c6a.svg\";","import React from 'react';\r\nimport { Layout, Menu } from 'antd';\r\nimport { Switch, Route, Link, Redirect, useLocation } from 'react-router-dom';\r\nimport {\r\n\tMain,\r\n\tDashboard,\r\n\tProject,\r\n\tEditProject,\r\n\tCreateProject,\r\n\tEditUser,\r\n\tCreateUser,\r\n\tUser,\r\n\tEditManager,\r\n\tCreateManager,\r\n\tManager,\r\n} from './index';\r\nimport {\r\n\tDesktopOutlined,\r\n\tProjectOutlined,\r\n\tUserOutlined,\r\n\tUnorderedListOutlined,\r\n\tContactsOutlined,\r\n} from '@ant-design/icons';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport UserBlock from '../components/UserBlock';\r\n\r\nimport logo from '../assets/img/logo.svg';\r\nimport brandLogo from '../assets/img/brand_logo.svg';\r\n\r\nconst { Header, Content, Sider } = Layout;\r\n\r\nconst Home = ({ onSuccessLogout }) => {\r\n\tlet location = useLocation();\r\n\tconst [collapsed, setCollapsed] = React.useState(true);\r\n\r\n\tconst { userInfo } = useSelector(({ projects }) => projects);\r\n\r\n\tconst isAdmin = userInfo.isadmin === 1;\r\n\r\n\tconst onCollapse = () => {\r\n\t\tsetCollapsed((prev) => !prev);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Layout>\r\n\t\t\t<Sider collapsible collapsed={collapsed} onCollapse={onCollapse}>\r\n\t\t\t\t<div className=\"brand-logo\">\r\n\t\t\t\t\t{/* <Link to=\"/\"> */}\r\n\t\t\t\t\t<img src={collapsed ? brandLogo : logo} alt=\"logo\" />\r\n\t\t\t\t\t{/* </Link> */}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Menu\r\n\t\t\t\t\tclassName=\"menu\"\r\n\t\t\t\t\ttheme=\"dark\"\r\n\t\t\t\t\tdefaultSelectedKeys={[location.pathname]}\r\n\t\t\t\t\tmode=\"inline\">\r\n\t\t\t\t\t<Menu.Item key=\"/\" icon={<DesktopOutlined />}>\r\n\t\t\t\t\t\t<Link to=\"/\">Обращения</Link>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//Админ\r\n\t\t\t\t\t\tisAdmin && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Menu.Divider style={{ backgroundColor: '#002140' }} />\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"/dash\" icon={<ProjectOutlined />}>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/dash\">Дашборд</Link>\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"/projects\" icon={<UnorderedListOutlined />}>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/projects\">Проекты</Link>\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"/users\" icon={<UserOutlined />}>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/users\">Пользователи</Link>\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t<Menu.Item key=\"/managers\" icon={<ContactsOutlined />}>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/managers\">Менеджеры</Link>\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</Menu>\r\n\t\t\t</Sider>\r\n\t\t\t<Layout>\r\n\t\t\t\t<Header>\r\n\t\t\t\t\t<UserBlock onLogout={onSuccessLogout} />\r\n\t\t\t\t</Header>\r\n\t\t\t\t<Content\r\n\t\t\t\t\tclassName=\"site-layout\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tpadding: '0 32px',\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t\t<Main />\r\n\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//Админ\r\n\t\t\t\t\t\t\tisAdmin && (\r\n\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/dash\">\r\n\t\t\t\t\t\t\t\t\t\t<Dashboard />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/projects\">\r\n\t\t\t\t\t\t\t\t\t\t<Project />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/projects/:id/edit\">\r\n\t\t\t\t\t\t\t\t\t\t<EditProject />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/projects/create\">\r\n\t\t\t\t\t\t\t\t\t\t<CreateProject />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/users\">\r\n\t\t\t\t\t\t\t\t\t\t<User />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/users/:id/edit\">\r\n\t\t\t\t\t\t\t\t\t\t<EditUser />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/users/create\">\r\n\t\t\t\t\t\t\t\t\t\t<CreateUser />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/managers\">\r\n\t\t\t\t\t\t\t\t\t\t<Manager />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/managers/:id/edit\">\r\n\t\t\t\t\t\t\t\t\t\t<EditManager />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/managers/create\">\r\n\t\t\t\t\t\t\t\t\t\t<CreateManager />\r\n\t\t\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t<Redirect to=\"/\" />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</Content>\r\n\t\t\t</Layout>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport { Spin } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\nconst Loader = () => {\r\n\tconst antIcon = <LoadingOutlined style={{ fontSize: 28 }} spin />;\r\n\r\n\treturn (\r\n\t\t<div style={{ textAlign: 'center', marginTop: '2px' }}>\r\n\t\t\t<Spin indicator={antIcon} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Form, Input, Button, message, Select } from 'antd';\r\nimport axios from 'axios';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst EditProject = () => {\r\n\tconst [userList, setUsertList] = React.useState([]);\r\n\tconst [projectUser, setProjectUser] = React.useState([]);\r\n\tconst [isLoadingPage, setIsLoadingPage] = React.useState(true);\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\tconst [initValues, setInitvalues] = React.useState({});\r\n\tconst { id } = useParams();\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get('/users')\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tconst newData = data.map((user) => {\r\n\t\t\t\t\treturn { label: user.name, value: user.id };\r\n\t\t\t\t});\r\n\t\t\t\tsetUsertList(newData);\r\n\t\t\t})\r\n\t\t\t.finally(() => console.log('users fetched at edit page'));\r\n\t}, []);\r\n\r\n\t// let history = useHistory();\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get(`/projects/${id}/edit`)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tsetInitvalues(data);\r\n\t\t\t\tif (data.users.length > 0) {\r\n\t\t\t\t\tconst projectUser = data.users.map((user) => user.id);\r\n\t\t\t\t\tsetProjectUser(projectUser);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err))\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetIsLoadingPage(false);\r\n\t\t\t});\r\n\t}, [id]);\r\n\r\n\tconst onFinish = (values) => {\r\n\t\tsetIsLoading(true);\r\n\t\tconst newProject = { ...values, users: projectUser };\r\n\t\taxios\r\n\t\t\t.put(`/projects/${id}`, newProject)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t\t// history.push('/projects');\r\n\t\t\t})\r\n\t\t\t.catch((rsp) => {\r\n\t\t\t\tmessage.error('Произошла ошибка');\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\tconst onChangeUsers = (value) => {\r\n\t\tsetProjectUser(value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Редактировать проект</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/projects'}>Назад</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t{isLoadingPage ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\tname=\"basic\"\r\n\t\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\t\tinitialValues={initValues}\r\n\t\t\t\t\t\t\tautoComplete=\"off\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Имя\"\r\n\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Введите имя!' }]}>\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Таблица\"\r\n\t\t\t\t\t\t\t\tname=\"tablename\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Укажите таблицу!' }]}>\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Заголовок таблицы\"\r\n\t\t\t\t\t\t\t\ttooltip={{\r\n\t\t\t\t\t\t\t\t\ttitle: 'Через запятую. Пример: ID,Имя,Телефон',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tname=\"base_header\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Укажите заголовок таблицы!' }]}>\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Строка таблицы\"\r\n\t\t\t\t\t\t\t\ttooltip={{\r\n\t\t\t\t\t\t\t\t\ttitle: 'Поля из таблицы в БД через запятую. Пример: id,name,number',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tname=\"base_row\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Укажите строку таблицы!' }]}>\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Form.Item label=\"Пользователи\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\t\t\toptionFilterProp=\"label\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Выбрать пользователей\"\r\n\t\t\t\t\t\t\t\t\tdefaultValue={projectUser}\r\n\t\t\t\t\t\t\t\t\tonChange={onChangeUsers}\r\n\t\t\t\t\t\t\t\t\toptions={userList}></Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"btn-resource\"\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tloading={isLoading}>\r\n\t\t\t\t\t\t\t\tОбновить проект\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default EditProject;\r\n","import React from 'react';\r\nimport { Form, Input, Button, Select, message } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst CreateProject = () => {\r\n\tconst [userList, setUserList] = React.useState([]);\r\n\tconst [projectUser, setProjectUser] = React.useState([]);\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get('/users')\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tconst newData = data.map((user) => {\r\n\t\t\t\t\treturn { label: user.name, value: user.id };\r\n\t\t\t\t});\r\n\t\t\t\tsetUserList(newData);\r\n\t\t\t})\r\n\t\t\t.finally(() => console.log('users fetched'));\r\n\t}, []);\r\n\r\n\tconst onFinish = (values) => {\r\n\t\tconst newProject = { ...values, users: projectUser };\r\n\t\tsetIsLoading(true);\r\n\t\taxios\r\n\t\t\t.post('/projects', newProject)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tmessage.success('Проект успешно добавлен');\r\n\t\t\t})\r\n\t\t\t.catch((rsp) => {\r\n\t\t\t\tconsole.log(rsp);\r\n\t\t\t\tmessage.error('Произошла ошибка');\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\tconst onChangeUsers = (checkedValues) => {\r\n\t\tsetProjectUser(checkedValues);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Новый проект</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/projects'}>Назад</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t<Form name=\"basic\" onFinish={onFinish} autoComplete=\"off\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Имя\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Введите имя!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Таблица\"\r\n\t\t\t\t\t\ttooltip={{\r\n\t\t\t\t\t\t\ttitle: 'Указать имя таблицы из БД',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tname=\"tablename\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Укажите таблицу!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Заголовок таблицы\"\r\n\t\t\t\t\t\ttooltip={{\r\n\t\t\t\t\t\t\ttitle: 'Через запятую. Пример: ID,Имя,Телефон',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tname=\"base_header\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Укажите заголовок таблицы!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Строка таблицы\"\r\n\t\t\t\t\t\ttooltip={{\r\n\t\t\t\t\t\t\ttitle: 'Поля из таблицы в БД через запятую. Пример: id,name,number',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tname=\"base_row\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Укажите строку таблицы!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item label=\"Пользователи\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tmode=\"multiple\"\r\n\t\t\t\t\t\t\toptionFilterProp=\"label\"\r\n\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\tplaceholder=\"Выбрать пользователей\"\r\n\t\t\t\t\t\t\tdefaultValue={projectUser}\r\n\t\t\t\t\t\t\tonChange={onChangeUsers}\r\n\t\t\t\t\t\t\toptions={userList}></Select>\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"btn-resource\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tloading={isLoading}>\r\n\t\t\t\t\t\tДобавить проект\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default CreateProject;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Table, Space, Button, Tag, message } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst Project = () => {\r\n\tconst [projectList, setProjectList] = React.useState([]);\r\n\tconst [isLoading, setIsLoading] = React.useState(true);\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get('/projects')\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tsetProjectList(data);\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t}, []);\r\n\r\n\tconst onDeleteProject = (e, projectId) => {\r\n\t\tconst thisButton = e.currentTarget;\r\n\t\tthisButton.innerText = 'Удаляю';\r\n\r\n\t\taxios\r\n\t\t\t.delete(`/projects/${projectId}`)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tconst newProjectList = projectList.filter((project) => project.id !== projectId);\r\n\t\t\t\tsetProjectList(newProjectList);\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err))\r\n\t\t\t.finally(() => {\r\n\t\t\t\tthisButton.innerText = 'Удалить';\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Проект',\r\n\t\t\tdataIndex: 'name',\r\n\t\t\tkey: 'name',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Таблица',\r\n\t\t\tdataIndex: 'tablename',\r\n\t\t\tkey: 'tablename',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Шапка таблицы',\r\n\t\t\tdataIndex: 'base_header',\r\n\t\t\tkey: 'base_header',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Доступен для',\r\n\t\t\tdataIndex: 'users',\r\n\t\t\tkey: 'users',\r\n\t\t\trender: (users) => {\r\n\t\t\t\tif (users.length) {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{users.map((user) => (\r\n\t\t\t\t\t\t\t\t<Tag color=\"blue\" key={user.id}>\r\n\t\t\t\t\t\t\t\t\t{user.name}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Действия',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (_, record) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Link to={`/projects/${record.id}/edit`}>Ред</Link>\r\n\t\t\t\t\t<Button type=\"link\" onClick={(e) => onDeleteProject(e, record.id)}>\r\n\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Список проектов</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/projects/create'}>Добавить проект</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\trowKey={(record) => record.id}\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdataSource={projectList}\r\n\t\t\t\t\t\tpagination={{ hideOnSinglePage: true }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Project;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Table, Space, Button, message } from 'antd';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst Manager = () => {\r\n\tconst [managerList, setManagerList] = React.useState([]);\r\n\tconst [isLoading, setIsLoading] = React.useState(true);\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get('/managers')\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tsetManagerList(data);\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t}, []);\r\n\r\n\tconst onDeleteManager = (e, managerId) => {\r\n\t\tconst thisButton = e.currentTarget;\r\n\t\tthisButton.innerText = 'Удаляю';\r\n\r\n\t\taxios\r\n\t\t\t.delete(`/managers/${managerId}`)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tconst newManagerList = managerList.filter((manager) => manager.id !== managerId);\r\n\t\t\t\tsetManagerList(newManagerList);\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err))\r\n\t\t\t.finally(() => {\r\n\t\t\t\tthisButton.innerText = 'Удалить';\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Менеджер',\r\n\t\t\tdataIndex: 'name',\r\n\t\t\tkey: 'name',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'E-mail',\r\n\t\t\tdataIndex: 'email',\r\n\t\t\tkey: 'email',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Телефон',\r\n\t\t\tdataIndex: 'phone',\r\n\t\t\tkey: 'phone',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Действия',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (_, record) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Link to={`/managers/${record.id}/edit`}>Ред</Link>\r\n\t\t\t\t\t<Button type=\"link\" onClick={(e) => onDeleteManager(e, record.id)}>\r\n\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Список менеджеров</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/managers/create'}>Добавить менеджера</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\trowKey={(record) => record.id}\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdataSource={managerList}\r\n\t\t\t\t\t\tpagination={{ hideOnSinglePage: true }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Manager;\r\n","import React from 'react';\r\nimport { Form, Input, Button, message } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst CreateManager = () => {\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\r\n\tconst onFinish = (values) => {\r\n\t\tsetIsLoading(true);\r\n\t\taxios\r\n\t\t\t.post('/managers', values)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tmessage.error('Произошла ошибка');\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Новый менеджер</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/managers'}>Назад</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t<Form\r\n\t\t\t\t\tname=\"basic\"\r\n\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\tinitialValues={{ isadmin: false }}\r\n\t\t\t\t\tautoComplete=\"off\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Имя\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Введите имя!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"E-mail\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Введите E-mail!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Телефон\"\r\n\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Введите Телефон!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"btn-resource\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tloading={isLoading}>\r\n\t\t\t\t\t\tДобавить менеджера\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default CreateManager;\r\n","import React from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Form, Input, Button, message } from 'antd';\r\nimport axios from 'axios';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst EditManager = () => {\r\n\tconst [isLoadingPage, setIsLoadingPage] = React.useState(true);\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\tconst [initValues, setInitValues] = React.useState({});\r\n\tconst { id } = useParams();\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get(`/managers/${id}/edit`)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tsetInitValues(data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err))\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetIsLoadingPage(false);\r\n\t\t\t});\r\n\t}, [id]);\r\n\r\n\tconst onFinish = (values) => {\r\n\t\tsetIsLoading(true);\r\n\t\tconst newManager = { ...values };\r\n\t\taxios\r\n\t\t\t.put(`/managers/${id}`, newManager)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tmessage.error('Произошла ошибка');\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Редактировать менеджера</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/managers'}>Назад</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t{isLoadingPage ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\tname=\"basic\"\r\n\t\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\t\tinitialValues={initValues}\r\n\t\t\t\t\t\t\tautoComplete=\"off\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Имя\"\r\n\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Введите имя!' }]}>\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"E-mail\"\r\n\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Введите E-mail!' }]}>\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Телефон\"\r\n\t\t\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Введите Телефон!' }]}>\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"btn-resource\"\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tloading={isLoading}>\r\n\t\t\t\t\t\t\t\tОбновить менеджера\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default EditManager;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Table, Space, Button, Tag, message } from 'antd';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst User = () => {\r\n\tconst [userList, setUserList] = React.useState([]);\r\n\tconst [isLoading, setIsLoading] = React.useState(true);\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get('/users')\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tsetUserList(data);\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t}, []);\r\n\r\n\tconst onDeleteUser = (e, userId) => {\r\n\t\tconst thisButton = e.currentTarget;\r\n\t\tthisButton.innerText = 'Удаляю';\r\n\r\n\t\taxios\r\n\t\t\t.delete(`/users/${userId}`)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tconst newUserList = userList.filter((user) => user.id !== userId);\r\n\t\t\t\tsetUserList(newUserList);\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err))\r\n\t\t\t.finally(() => {\r\n\t\t\t\tthisButton.innerText = 'Удалить';\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst onResetPassword = (userId) => {\r\n\t\tconst newPwd = prompt('Введите новый пароль');\r\n\r\n\t\tif (newPwd) {\r\n\t\t\tconsole.log(userId, newPwd);\r\n\r\n\t\t\taxios\r\n\t\t\t\t.patch(`/user/changepwd`, { userid: userId, password: newPwd })\r\n\t\t\t\t.then(({ data }) => {\r\n\t\t\t\t\tmessage.success(data.message);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => message.error('Ошибка при смене пароля'));\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Пользователь',\r\n\t\t\tdataIndex: 'name',\r\n\t\t\tkey: 'name',\r\n\t\t\trender: (_, record) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{record.isadmin ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{record.name} <Tag>admin</Tag>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\trecord.name\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Логин',\r\n\t\t\tdataIndex: 'username',\r\n\t\t\tkey: 'username',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Менеджер',\r\n\t\t\tdataIndex: 'manager',\r\n\t\t\tkey: 'manager',\r\n\t\t\trender: (manager) => <>{manager?.name}</>,\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Действия',\r\n\t\t\tkey: 'action',\r\n\t\t\trender: (_, record) => (\r\n\t\t\t\t<Space size=\"middle\">\r\n\t\t\t\t\t<Link to={`/users/${record.id}/edit`}>Ред</Link>\r\n\t\t\t\t\t<Button type=\"link\" onClick={(e) => onDeleteUser(e, record.id)}>\r\n\t\t\t\t\t\tУдалить\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button type=\"link\" onClick={() => onResetPassword(record.id)}>\r\n\t\t\t\t\t\tСброс пароля\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Список пользователей</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/users/create'}>Добавить пользователя</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Table\r\n\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\trowKey={(record) => record.id}\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdataSource={userList}\r\n\t\t\t\t\t\tpagination={{ hideOnSinglePage: true }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport { Form, Input, Button, Checkbox, message, Select } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst CreateUser = () => {\r\n\tconst [managerList, setManagerList] = React.useState([]);\r\n\tconst [projectManager, setProjectManager] = React.useState(null);\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get('/managers')\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tconst newData = data.map((manager) => {\r\n\t\t\t\t\treturn { label: manager.name, value: manager.id };\r\n\t\t\t\t});\r\n\t\t\t\tsetManagerList(newData);\r\n\t\t\t})\r\n\t\t\t.catch(() => message.error('Ошибка подгрузки менеджеров'));\r\n\t}, []);\r\n\r\n\tconst onFinish = (values) => {\r\n\t\tconst newUser = { ...values, manager: projectManager };\r\n\t\tsetIsLoading(true);\r\n\t\taxios\r\n\t\t\t.post('/users', newUser)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tmessage.error('Произошла ошибка');\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\tconst onChangeManagers = (checkedValues) => {\r\n\t\tsetProjectManager(checkedValues);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Новый пользователь</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/users'}>Назад</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t<Form\r\n\t\t\t\t\tname=\"basic\"\r\n\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\tinitialValues={{ isadmin: false }}\r\n\t\t\t\t\tautoComplete=\"off\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Имя\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Введите имя!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Логин\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Введите логин!' }]}>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tlabel=\"Пароль\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Введите пароль!' }]}>\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item name=\"isadmin\" valuePropName=\"checked\">\r\n\t\t\t\t\t\t<Checkbox>Админ</Checkbox>\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"manager\"\r\n\t\t\t\t\t\tlabel=\"Менеджер\"\r\n\t\t\t\t\t\trules={[{ required: true, message: 'Укажите менеджера!' }]}>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\toptionFilterProp=\"label\"\r\n\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\tplaceholder=\"Выбрать менеджера\"\r\n\t\t\t\t\t\t\tonChange={onChangeManagers}\r\n\t\t\t\t\t\t\toptions={managerList}></Select>\r\n\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"btn-resource\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tloading={isLoading}>\r\n\t\t\t\t\t\tДобавить пользователя\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default CreateUser;\r\n","import React from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { Form, Input, Button, Checkbox, message, Select } from 'antd';\r\nimport axios from 'axios';\r\nimport Loader from '../../components/Loader';\r\n\r\nconst EditUser = () => {\r\n\tconst [managerList, setManagerList] = React.useState([]);\r\n\tconst [projectManager, setProjectManager] = React.useState(null);\r\n\r\n\tconst [isLoadingPage, setIsLoadingPage] = React.useState(true);\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\tconst [initValues, setInitValues] = React.useState({});\r\n\tconst { id } = useParams();\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.get(`/users/${id}/edit`)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tsetInitValues(data.user);\r\n\t\t\t\tif (data.user.manager) {\r\n\t\t\t\t\tsetProjectManager(data.user.manager.id);\r\n\t\t\t\t}\r\n\t\t\t\tconst newData = data.managers.map((manager) => {\r\n\t\t\t\t\treturn { label: manager.name, value: manager.id };\r\n\t\t\t\t});\r\n\t\t\t\tsetManagerList(newData);\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err))\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetIsLoadingPage(false);\r\n\t\t\t});\r\n\t}, [id]);\r\n\r\n\tconst onFinish = (values) => {\r\n\t\tsetIsLoading(true);\r\n\t\tconst newUser = { ...values, manager: projectManager };\r\n\t\taxios\r\n\t\t\t.put(`/users/${id}`, newUser)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tmessage.success(data.message);\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tmessage.error('Произошла ошибка');\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\tconst onChangeManagers = (checkedValues) => {\r\n\t\tsetProjectManager(checkedValues);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"controls box\" style={{ padding: '14px 25px' }}>\r\n\t\t\t\t<b>Редактировать пользователя</b>\r\n\t\t\t\t<Button type=\"primary\" style={{ marginLeft: 'auto' }}>\r\n\t\t\t\t\t<Link to={'/users'}>Назад</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"box\" style={{ marginTop: 20 }}>\r\n\t\t\t\t{isLoadingPage ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\tname=\"basic\"\r\n\t\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\t\tinitialValues={initValues}\r\n\t\t\t\t\t\t\tautoComplete=\"off\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Имя\"\r\n\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Введите имя!' }]}>\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tlabel=\"Логин\"\r\n\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\trules={[{ required: true, message: 'Введите логин!' }]}>\r\n\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item name=\"isadmin\" valuePropName=\"checked\">\r\n\t\t\t\t\t\t\t\t<Checkbox>Админ</Checkbox>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t\t<Form.Item label=\"Менеджер\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\toptionFilterProp=\"label\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Выбрать менеджера\"\r\n\t\t\t\t\t\t\t\t\tdefaultValue={projectManager}\r\n\t\t\t\t\t\t\t\t\tonChange={onChangeManagers}\r\n\t\t\t\t\t\t\t\t\toptions={managerList}></Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"btn-resource\"\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tloading={isLoading}>\r\n\t\t\t\t\t\t\t\tОбновить пользователя\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default EditUser;\r\n","import React from 'react';\r\nimport { Statistic, Row, Col, Card, Alert } from 'antd';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Dashboard = () => {\r\n\tconst { userInfo } = useSelector(({ projects }) => projects);\r\n\r\n\tconst manager = userInfo.manager;\r\n\r\n\tconst minutes = (() => {\r\n\t\treturn Math.floor(Math.random() * 950) + 1;\r\n\t})();\r\n\r\n\tconst onClose = (e) => {\r\n\t\tconsole.log(e, 'I was closed.');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{minutes < 300 && (\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tstyle={{ marginTop: 22 }}\r\n\t\t\t\t\tmessage=\"Обращаем Ваше внимание!\"\r\n\t\t\t\t\tdescription=\"У вас осталось не так много минут. Рекомендуем пополнить счёт\"\r\n\t\t\t\t\ttype=\"error\"\r\n\t\t\t\t\tclosable\r\n\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t<Row gutter={22} style={{ marginTop: 22 }}>\r\n\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<Statistic\r\n\t\t\t\t\t\t\ttitle=\"Ваш менеджер\"\r\n\t\t\t\t\t\t\tvalue={manager?.name || 'Менеджер не назначен'}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{manager && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{manager.email}, доб. {manager.phone}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<Statistic\r\n\t\t\t\t\t\t\ttitle=\"Остаток минут по тарифу\"\r\n\t\t\t\t\t\t\tvalue={minutes}\r\n\t\t\t\t\t\t\tvalueStyle={{ color: minutes > 300 ? '#3f8600' : '#cf1322' }}\r\n\t\t\t\t\t\t\tsuffix=\"/ 1000\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<Statistic title=\"Звонков сегодня\" value={34} />\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col span={6}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<Statistic title=\"Звонков вчера\" value={81} />\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Form, Input, Button, message } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport axios from 'axios';\r\nimport brandLogo from '../../assets/img/brand_logo.svg';\r\n//Redux\r\nimport { useDispatch } from 'react-redux';\r\nimport { setUserInfo } from '../../redux/actions/projects';\r\n\r\nconst Login = ({ onLogin }) => {\r\n\tconst [isLoading, setIsLoading] = React.useState(false);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tlet history = useHistory();\r\n\r\n\tconst onFinish = (values) => {\r\n\t\tsetIsLoading(true);\r\n\t\taxios\r\n\t\t\t.get('/csrf-cookie')\r\n\t\t\t.then(() => {\r\n\t\t\t\taxios\r\n\t\t\t\t\t.post('/login', values)\r\n\t\t\t\t\t.then(({ data }) => {\r\n\t\t\t\t\t\tlocalStorage.setItem('auth_name', data.name);\r\n\t\t\t\t\t\tdispatch(setUserInfo(data));\r\n\t\t\t\t\t\tonLogin();\r\n\t\t\t\t\t\thistory.push('/');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => message.error(error.response.data.message));\r\n\t\t\t})\r\n\t\t\t.finally(() => setIsLoading(false));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"login\">\r\n\t\t\t<img\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\twidth: '80px',\r\n\t\t\t\t\tmarginBottom: 24,\r\n\t\t\t\t}}\r\n\t\t\t\tsrc={brandLogo}\r\n\t\t\t\talt=\"barndlogo\"\r\n\t\t\t/>\r\n\t\t\t<Form className=\"login-form\" onFinish={onFinish} autoComplete=\"off\" size=\"large\">\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Введите логин!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}>\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tprefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n\t\t\t\t\t\tplaceholder=\"Логин\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: 'Введите пароль!',\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}>\r\n\t\t\t\t\t<Input.Password\r\n\t\t\t\t\t\tprefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n\t\t\t\t\t\tplaceholder=\"Пароль\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tclassName=\"login-form-button\"\r\n\t\t\t\t\t\tloading={isLoading}>\r\n\t\t\t\t\t\tВойти\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Spin } from 'antd';\r\nimport { LoadingOutlined } from '@ant-design/icons';\r\n\r\nconst AuthLoader = () => {\r\n\tconst antIcon = <LoadingOutlined style={{ fontSize: 44 }} spin />;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\theight: '100%',\r\n\t\t\t}}>\r\n\t\t\t<Spin size=\"large\" indicator={antIcon} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default AuthLoader;\r\n","import React from 'react';\r\nimport { Login, Home } from './pages';\r\nimport axios from 'axios';\r\n//Redux\r\nimport { useDispatch } from 'react-redux';\r\nimport { setUserInfo } from './redux/actions/projects';\r\n\r\nimport AuthLoader from './components/AuthLoader';\r\n\r\nimport './App.less';\r\n\r\nconst App = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst [isLoggedin, setIsLoggedin] = React.useState(false);\r\n\tconst [checkAuth, setCheckAuth] = React.useState(false);\r\n\r\n\tconst onSuccessLogin = () => {\r\n\t\tsetIsLoggedin(true);\r\n\t};\r\n\r\n\tconst onSuccessLogout = () => {\r\n\t\tsetIsLoggedin(false);\r\n\t};\r\n\r\n\tReact.useEffect(() => {\r\n\t\taxios\r\n\t\t\t.post('me')\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tdispatch(setUserInfo(data));\r\n\t\t\t\tsetCheckAuth(true);\r\n\t\t\t\tsetIsLoggedin(true);\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tsetCheckAuth(true);\r\n\t\t\t\tsetIsLoggedin(false);\r\n\t\t\t}); // eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tif (!isLoggedin) {\r\n\t\tif (checkAuth) {\r\n\t\t\treturn <Login onLogin={onSuccessLogin} />;\r\n\t\t}\r\n\t\treturn <AuthLoader />;\r\n\t}\r\n\r\n\treturn <Home onSuccessLogout={onSuccessLogout} />;\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport axios from 'axios';\nimport { ConfigProvider } from 'antd';\nimport ruRU from 'antd/lib/locale/ru_RU';\n\nimport App from './App';\n\naxios.defaults.baseURL = 'http://localhost:8000/api';\n// axios.defaults.baseURL = 'http://lk.kolocall.com/api';\naxios.defaults.withCredentials = true;\naxios.interceptors.response.use(\n\t(response) => response,\n\t(error) => {\n\t\tif (error.response.status === 401 || error.response.status === 419) {\n\t\t\tif (localStorage.getItem('auth_name')) {\n\t\t\t\tlocalStorage.clear();\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\n\t\t\treturn Promise.reject();\n\t\t}\n\n\t\treturn Promise.reject(error);\n\t},\n);\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<ConfigProvider locale={ruRU}>\n\t\t\t<Router>\n\t\t\t\t<Provider store={store}>\n\t\t\t\t\t<App />\n\t\t\t\t</Provider>\n\t\t\t</Router>\n\t\t</ConfigProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root'),\n);\n"],"sourceRoot":""}